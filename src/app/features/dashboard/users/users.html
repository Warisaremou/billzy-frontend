<div class="space-y-4">
  <user-sheet />
  <div class="flex items-center justify-between gap-3">
    <h4>Liste des utilisateurs</h4>
    <div>
      <button id="user-sheet" (click)="openCreateSheet()" hlmBtn>
        <ng-icon hlm size="sm" name="lucidePlusCircle" />
        Ajouter un utilisateur
      </button>
    </div>
  </div>

  @if (query.isPending()) {
  <div class="flex p-5 flex-col items-center justify-center gap-2">
    <hlm-spinner class="text-xl" />
    <p class="text-muted-foreground">Chargement de la liste des utilisateurs ...</p>
  </div>
  } @else if (query.isError()) {
  <div class="rounded-lg border border-destructive bg-destructive/10 p-4">
    <p class="text-sm text-destructive">{{ query.error().message }}</p>
  </div>
  } @else if (query.isSuccess()) {
  <data-table
    [columns]="columns"
    [data]="query.data()!"
    searchColumn="email"
    searchPlaceholder="Rechercher par email..."
  >
    <div class="flex flex-col gap-2 items-center justify-center">
      Aucune utilisateur trouvÃ©
      <button id="user-sheet" (click)="openCreateSheet()" hlmBtn>
        <ng-icon hlm size="sm" name="lucidePlusCircle" />
        Ajouter un utilisateur
      </button>
    </div>
  </data-table>
  }
</div>
